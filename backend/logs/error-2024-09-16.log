{"level":"error","message":"Error adding route /v1/protected/upload: \n The default Firebase app does not exist. Make sure you call initializeApp() before using any of the Firebase services.","timestamp":"2024-09-15T19:51:13.478Z"}
{"level":"error","message":"Failed to start server: Cannot read properties of undefined (reading 'replace')","stack":"TypeError: Cannot read properties of undefined (reading 'replace')\n    at formatPrivateKey (D:\\personal_project\\chat-app\\Back-End\\src\\lib\\firebase\\fireBaseConnection.ts:5:14)\n    at createFirebaseAdminApp (D:\\personal_project\\chat-app\\Back-End\\src\\lib\\firebase\\fireBaseConnection.ts:9:22)\n    at initAdmin (D:\\personal_project\\chat-app\\Back-End\\src\\lib\\firebase\\fireBaseConnection.ts:32:10)\n    at startServer (D:\\personal_project\\chat-app\\Back-End\\src\\index.ts:31:20)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)","timestamp":"2024-09-15T19:51:51.229Z"}
{"level":"error","message":"Failed to start server: Cannot read properties of undefined (reading 'replace')","stack":"TypeError: Cannot read properties of undefined (reading 'replace')\n    at formatPrivateKey (D:\\personal_project\\chat-app\\Back-End\\src\\lib\\firebase\\fireBaseConnection.ts:5:14)\n    at createFirebaseAdminApp (D:\\personal_project\\chat-app\\Back-End\\src\\lib\\firebase\\fireBaseConnection.ts:9:22)\n    at initAdmin (D:\\personal_project\\chat-app\\Back-End\\src\\lib\\firebase\\fireBaseConnection.ts:32:10)\n    at startServer (D:\\personal_project\\chat-app\\Back-End\\src\\index.ts:31:20)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)","timestamp":"2024-09-15T19:52:17.677Z"}
{"level":"error","message":"Failed to start server: Cannot read properties of undefined (reading 'replace')","stack":"TypeError: Cannot read properties of undefined (reading 'replace')\n    at formatPrivateKey (D:\\personal_project\\chat-app\\Back-End\\src\\lib\\firebase\\fireBaseConnection.ts:6:14)\n    at createFirebaseAdminApp (D:\\personal_project\\chat-app\\Back-End\\src\\lib\\firebase\\fireBaseConnection.ts:10:22)\n    at initAdmin (D:\\personal_project\\chat-app\\Back-End\\src\\lib\\firebase\\fireBaseConnection.ts:33:10)\n    at startServer (D:\\personal_project\\chat-app\\Back-End\\src\\index.ts:31:20)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)","timestamp":"2024-09-15T19:55:36.189Z"}
{"level":"error","message":"Error adding route /v1/protected/upload: \n ⨯ Unable to compile TypeScript:\n\u001b[96msrc/middlewares/fileUploadMiddleware/index.ts\u001b[0m:\u001b[93m47\u001b[0m:\u001b[93m10\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2304: \u001b[0mCannot find name 'upload'.\r\n\r\n\u001b[7m47\u001b[0m export { upload, uploadToFirebase };\r\n\u001b[7m  \u001b[0m \u001b[91m         ~~~~~~\u001b[0m\r\n","timestamp":"2024-09-15T20:10:29.381Z"}
{"level":"error","message":"Error adding route /v1/protected/upload: \n ⨯ Unable to compile TypeScript:\n\u001b[96msrc/api/v1/protected/upload/route.ts\u001b[0m:\u001b[93m2\u001b[0m:\u001b[93m10\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2305: \u001b[0mModule '\"@/middlewares/fileUploadMiddleware\"' has no exported member 'upload'.\r\n\r\n\u001b[7m2\u001b[0m import { upload, uploadToFirebase } from '@/middlewares/fileUploadMiddleware';\r\n\u001b[7m \u001b[0m \u001b[91m         ~~~~~~\u001b[0m\r\n","timestamp":"2024-09-15T20:11:01.746Z"}
{"level":"error","message":"Error adding route /v1/protected/upload: \n ⨯ Unable to compile TypeScript:\n\u001b[96msrc/api/v1/protected/upload/route.ts\u001b[0m:\u001b[93m2\u001b[0m:\u001b[93m10\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2305: \u001b[0mModule '\"@/middlewares/fileUploadMiddleware\"' has no exported member 'upload'.\r\n\r\n\u001b[7m2\u001b[0m import { upload, uploadToFirebase } from '@/middlewares/fileUploadMiddleware';\r\n\u001b[7m \u001b[0m \u001b[91m         ~~~~~~\u001b[0m\r\n","timestamp":"2024-09-15T20:16:30.416Z"}
{"level":"error","message":"Error adding route /v1/protected/upload: \n ⨯ Unable to compile TypeScript:\n\u001b[96msrc/middlewares/fileUploadMiddleware/index.ts\u001b[0m:\u001b[93m33\u001b[0m:\u001b[93m14\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2339: \u001b[0mProperty 'file' does not exist on type 'Request<ParamsDictionary, any, any, ParsedQs, Record<string, any>>'.\r\n\r\n\u001b[7m33\u001b[0m     if (!req.file) {\r\n\u001b[7m  \u001b[0m \u001b[91m             ~~~~\u001b[0m\r\n\u001b[96msrc/middlewares/fileUploadMiddleware/index.ts\u001b[0m:\u001b[93m38\u001b[0m:\u001b[93m51\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2339: \u001b[0mProperty 'file' does not exist on type 'Request<ParamsDictionary, any, any, ParsedQs, Record<string, any>>'.\r\n\r\n\u001b[7m38\u001b[0m     const fileName = `uploads/${Date.now()}_${req.file.originalname}`;\r\n\u001b[7m  \u001b[0m \u001b[91m                                                  ~~~~\u001b[0m\r\n\u001b[96msrc/middlewares/fileUploadMiddleware/index.ts\u001b[0m:\u001b[93m47\u001b[0m:\u001b[93m31\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2339: \u001b[0mProperty 'file' does not exist on type 'Request<ParamsDictionary, any, any, ParsedQs, Record<string, any>>'.\r\n\r\n\u001b[7m47\u001b[0m     passThroughStream.end(req.file.buffer); // Immediately pass the buffer to stream\r\n\u001b[7m  \u001b[0m \u001b[91m                              ~~~~\u001b[0m\r\n","timestamp":"2024-09-15T20:35:19.915Z"}
{"level":"error","message":"Error adding route /v1/protected/upload: \n ⨯ Unable to compile TypeScript:\n\u001b[96msrc/middlewares/fileUploadMiddleware/index.ts\u001b[0m:\u001b[93m38\u001b[0m:\u001b[93m56\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2339: \u001b[0mProperty 'originalname' does not exist on type '{}'.\r\n\r\n\u001b[7m38\u001b[0m     const fileName = `uploads/${Date.now()}_${req.file.originalname}`;\r\n\u001b[7m  \u001b[0m \u001b[91m                                                       ~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middlewares/fileUploadMiddleware/index.ts\u001b[0m:\u001b[93m47\u001b[0m:\u001b[93m36\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2339: \u001b[0mProperty 'buffer' does not exist on type '{}'.\r\n\r\n\u001b[7m47\u001b[0m     passThroughStream.end(req.file.buffer); // Immediately pass the buffer to stream\r\n\u001b[7m  \u001b[0m \u001b[91m                                   ~~~~~~\u001b[0m\r\n","timestamp":"2024-09-15T20:36:33.906Z"}
{"level":"error","message":"Error adding route /v1/protected/upload: \n ⨯ Unable to compile TypeScript:\n\u001b[96msrc/middlewares/fileUploadMiddleware/index.ts\u001b[0m:\u001b[93m42\u001b[0m:\u001b[93m56\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2339: \u001b[0mProperty 'originalname' does not exist on type '{}'.\r\n\r\n\u001b[7m42\u001b[0m     const fileName = `uploads/${Date.now()}_${req.file.originalname}`;\r\n\u001b[7m  \u001b[0m \u001b[91m                                                       ~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middlewares/fileUploadMiddleware/index.ts\u001b[0m:\u001b[93m51\u001b[0m:\u001b[93m36\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2339: \u001b[0mProperty 'buffer' does not exist on type '{}'.\r\n\r\n\u001b[7m51\u001b[0m     passThroughStream.end(req.file.buffer); // Immediately pass the buffer to stream\r\n\u001b[7m  \u001b[0m \u001b[91m                                   ~~~~~~\u001b[0m\r\n","timestamp":"2024-09-15T20:37:22.899Z"}
{"level":"error","message":"Error adding route /v1/protected/upload: \n ⨯ Unable to compile TypeScript:\n\u001b[96msrc/middlewares/fileUploadMiddleware/index.ts\u001b[0m:\u001b[93m42\u001b[0m:\u001b[93m56\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2339: \u001b[0mProperty 'originalname' does not exist on type '{}'.\r\n\r\n\u001b[7m42\u001b[0m     const fileName = `uploads/${Date.now()}_${req.file.originalname}`;\r\n\u001b[7m  \u001b[0m \u001b[91m                                                       ~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middlewares/fileUploadMiddleware/index.ts\u001b[0m:\u001b[93m51\u001b[0m:\u001b[93m36\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2339: \u001b[0mProperty 'buffer' does not exist on type '{}'.\r\n\r\n\u001b[7m51\u001b[0m     passThroughStream.end(req.file.buffer); // Immediately pass the buffer to stream\r\n\u001b[7m  \u001b[0m \u001b[91m                                   ~~~~~~\u001b[0m\r\n","timestamp":"2024-09-15T20:37:39.623Z"}
{"level":"error","message":"Error adding route /v1/protected/upload2: \n Router.use() requires a middleware function but got a Object","timestamp":"2024-09-15T21:07:31.570Z"}
{"level":"error","message":"Error adding route /v1/protected/uploadsec: \n Router.use() requires a middleware function but got a Object","timestamp":"2024-09-15T21:08:18.404Z"}
{"level":"error","message":"Error adding route /v1/protected/uploadsec: \n ⨯ Unable to compile TypeScript:\n\u001b[96msrc/api/v1/protected/uploadsec/testFt.ts\u001b[0m:\u001b[93m52\u001b[0m:\u001b[93m13\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2339: \u001b[0mProperty 'file' does not exist on type 'Request<ParamsDictionary, any, any, ParsedQs, Record<string, any>>'.\r\n\r\n\u001b[7m52\u001b[0m         req.file = undefined;\r\n\u001b[7m  \u001b[0m \u001b[91m            ~~~~\u001b[0m\r\n","timestamp":"2024-09-15T21:48:19.810Z"}
{"level":"error","message":"Error adding route /v1/protected/upload: \n ⨯ Unable to compile TypeScript:\n\u001b[96msrc/middlewares/fileUploadMiddleware/index.ts\u001b[0m:\u001b[93m73\u001b[0m:\u001b[93m27\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2339: \u001b[0mProperty 'bucket' does not exist on type 'StorageEngine'.\r\n\r\n\u001b[7m73\u001b[0m     this.bucket = storage.bucket(options.bucket);\r\n\u001b[7m  \u001b[0m \u001b[91m                          ~~~~~~\u001b[0m\r\n\u001b[96msrc/middlewares/fileUploadMiddleware/index.ts\u001b[0m:\u001b[93m84\u001b[0m:\u001b[93m14\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2554: \u001b[0mExpected 2 arguments, but got 1.\r\n\r\n\u001b[7m84\u001b[0m       return cb(new Error('No file stream found.'));\r\n\u001b[7m  \u001b[0m \u001b[91m             ~~\u001b[0m\r\n\r\n  \u001b[96msrc/middlewares/fileUploadMiddleware/index.ts\u001b[0m:\u001b[93m81\u001b[0m:\u001b[93m31\u001b[0m\r\n    \u001b[7m81\u001b[0m     cb: (error: Error | null, info: any) => void,\r\n    \u001b[7m  \u001b[0m \u001b[96m                              ~~~~~~~~~\u001b[0m\r\n    An argument for 'info' was not provided.\r\n\u001b[96msrc/middlewares/fileUploadMiddleware/index.ts\u001b[0m:\u001b[93m117\u001b[0m:\u001b[93m30\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2339: \u001b[0mProperty 'bucket' does not exist on type 'File'.\r\n\r\n\u001b[7m117\u001b[0m     const filePath = `${file.bucket}/${file.filename}`;\r\n\u001b[7m   \u001b[0m \u001b[91m                             ~~~~~~\u001b[0m\r\n","timestamp":"2024-09-16T00:42:53.743Z"}
{"level":"error","message":"Error adding route /v1/protected/upload: \n ⨯ Unable to compile TypeScript:\n\u001b[96msrc/middlewares/fileUploadMiddleware/index.ts\u001b[0m:\u001b[93m119\u001b[0m:\u001b[93m30\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2339: \u001b[0mProperty 'bucket' does not exist on type 'File'.\r\n\r\n\u001b[7m119\u001b[0m     const filePath = `${file.bucket}/${file.filename}`;\r\n\u001b[7m   \u001b[0m \u001b[91m                             ~~~~~~\u001b[0m\r\n\u001b[96msrc/middlewares/fileUploadMiddleware/index.ts\u001b[0m:\u001b[93m136\u001b[0m:\u001b[93m3\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2552: \u001b[0mCannot find name 'storage'. Did you mean 'Storage'?\r\n\r\n\u001b[7m136\u001b[0m   storage,\r\n\u001b[7m   \u001b[0m \u001b[91m  ~~~~~~~\u001b[0m\r\n\r\n  \u001b[96mnode_modules/typescript/lib/lib.dom.d.ts\u001b[0m:\u001b[93m21964\u001b[0m:\u001b[93m13\u001b[0m\r\n    \u001b[7m21964\u001b[0m declare var Storage: {\r\n    \u001b[7m     \u001b[0m \u001b[96m            ~~~~~~~\u001b[0m\r\n    'Storage' is declared here.\r\n","timestamp":"2024-09-16T00:45:43.307Z"}
{"level":"error","message":"Error adding route /v1/protected/upload: \n ⨯ Unable to compile TypeScript:\n\u001b[96msrc/middlewares/fileUploadMiddleware/index.ts\u001b[0m:\u001b[93m132\u001b[0m:\u001b[93m3\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2552: \u001b[0mCannot find name 'storage'. Did you mean 'Storage'?\r\n\r\n\u001b[7m132\u001b[0m   storage,\r\n\u001b[7m   \u001b[0m \u001b[91m  ~~~~~~~\u001b[0m\r\n\r\n  \u001b[96mnode_modules/typescript/lib/lib.dom.d.ts\u001b[0m:\u001b[93m21964\u001b[0m:\u001b[93m13\u001b[0m\r\n    \u001b[7m21964\u001b[0m declare var Storage: {\r\n    \u001b[7m     \u001b[0m \u001b[96m            ~~~~~~~\u001b[0m\r\n    'Storage' is declared here.\r\n","timestamp":"2024-09-16T00:47:07.145Z"}
{"level":"error","message":"Error adding route /v1/protected/upload: \n ⨯ Unable to compile TypeScript:\n\u001b[96msrc/middlewares/fileUploadMiddleware/index.ts\u001b[0m:\u001b[93m131\u001b[0m:\u001b[93m17\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2554: \u001b[0mExpected 1 arguments, but got 0.\r\n\r\n\u001b[7m131\u001b[0m const storage = multerFirebaseStorage();\r\n\u001b[7m   \u001b[0m \u001b[91m                ~~~~~~~~~~~~~~~~~~~~~\u001b[0m\r\n\r\n  \u001b[96msrc/middlewares/fileUploadMiddleware/index.ts\u001b[0m:\u001b[93m126\u001b[0m:\u001b[93m3\u001b[0m\r\n    \u001b[7m126\u001b[0m   options: MulterFirebaseStorageOptions,\r\n    \u001b[7m   \u001b[0m \u001b[96m  ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\u001b[0m\r\n    An argument for 'options' was not provided.\r\n","timestamp":"2024-09-16T00:47:48.481Z"}
{"level":"error","message":"Error adding route /v1/protected/upload: \n ⨯ Unable to compile TypeScript:\n\u001b[96msrc/middlewares/fileUploadMiddleware/index.ts\u001b[0m:\u001b[93m131\u001b[0m:\u001b[93m17\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2554: \u001b[0mExpected 1 arguments, but got 0.\r\n\r\n\u001b[7m131\u001b[0m const storage = new MulterFirebaseStorage();\r\n\u001b[7m   \u001b[0m \u001b[91m                ~~~~~~~~~~~~~~~~~~~~~~~~~~~\u001b[0m\r\n\r\n  \u001b[96msrc/middlewares/fileUploadMiddleware/index.ts\u001b[0m:\u001b[93m73\u001b[0m:\u001b[93m15\u001b[0m\r\n    \u001b[7m73\u001b[0m   constructor(options: MulterFirebaseStorageOptions) {\r\n    \u001b[7m  \u001b[0m \u001b[96m              ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\u001b[0m\r\n    An argument for 'options' was not provided.\r\n","timestamp":"2024-09-16T00:49:26.594Z"}
{"level":"error","message":"Error adding route /v1/protected/upload: \n ⨯ Unable to compile TypeScript:\n\u001b[96msrc/middlewares/fileUploadMiddleware/index.ts\u001b[0m:\u001b[93m93\u001b[0m:\u001b[93m7\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m93\u001b[0m       this.filename(req, file, (err: Error | null, name: string) => name),\r\n\u001b[7m  \u001b[0m \u001b[91m      ~~~~~~~~~~~~~\u001b[0m\r\n","timestamp":"2024-09-16T01:02:49.334Z"}
{"level":"error","message":"Error adding route /v1/protected/upload: \n ⨯ Unable to compile TypeScript:\n\u001b[96msrc/middlewares/fileUploadMiddleware/index.ts\u001b[0m:\u001b[93m75\u001b[0m:\u001b[93m5\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2322: \u001b[0mType '((req: any, file: File, cb: (error: Error | null, destination: string) => void) => void) | undefined' is not assignable to type '((req: any, file: File, cb: (error: Error | null, destination: string) => string) => string) | undefined'.\r\n  Type '(req: any, file: File, cb: (error: Error | null, destination: string) => void) => void' is not assignable to type '(req: any, file: File, cb: (error: Error | null, destination: string) => string) => string'.\r\n    Type 'void' is not assignable to type 'string'.\r\n\r\n\u001b[7m75\u001b[0m     this.destination = options.destination;\r\n\u001b[7m  \u001b[0m \u001b[91m    ~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middlewares/fileUploadMiddleware/index.ts\u001b[0m:\u001b[93m76\u001b[0m:\u001b[93m5\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2322: \u001b[0mType '((req: any, file: File, cb: (error: Error | null, filename: string) => void) => void) | undefined' is not assignable to type '((req: any, file: File, cb: (error: Error | null, filename: string) => string) => string) | undefined'.\r\n  Type '(req: any, file: File, cb: (error: Error | null, filename: string) => void) => void' is not assignable to type '(req: any, file: File, cb: (error: Error | null, filename: string) => string) => string'.\r\n    Type 'void' is not assignable to type 'string'.\r\n\r\n\u001b[7m76\u001b[0m     this.filename = options.filename;\r\n\u001b[7m  \u001b[0m \u001b[91m    ~~~~~~~~~~~~~\u001b[0m\r\n","timestamp":"2024-09-16T01:09:34.121Z"}
{"level":"error","message":"Error adding route /v1/protected/upload: \n ⨯ Unable to compile TypeScript:\n\u001b[96msrc/middlewares/fileUploadMiddleware/index.ts\u001b[0m:\u001b[93m139\u001b[0m:\u001b[93m3\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2322: \u001b[0mType '(req: any, file: File, cb: (error: Error | null, destination: string) => string) => void' is not assignable to type '(req: any, file: File, cb: (error: Error | null, destination: string) => string) => string'.\r\n  Type 'void' is not assignable to type 'string'.\r\n\r\n\u001b[7m139\u001b[0m   destination: (req, file, cb) => {\r\n\u001b[7m   \u001b[0m \u001b[91m  ~~~~~~~~~~~\u001b[0m\r\n\r\n  \u001b[96msrc/middlewares/fileUploadMiddleware/index.ts\u001b[0m:\u001b[93m42\u001b[0m:\u001b[93m3\u001b[0m\r\n    \u001b[7m42\u001b[0m   destination?: (\r\n    \u001b[7m  \u001b[0m \u001b[96m  ~~~~~~~~~~~\u001b[0m\r\n    The expected type comes from property 'destination' which is declared here on type 'MulterFirebaseStorageOptions'\r\n\u001b[96msrc/middlewares/fileUploadMiddleware/index.ts\u001b[0m:\u001b[93m143\u001b[0m:\u001b[93m3\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2322: \u001b[0mType '(req: any, file: File, cb: (error: Error | null, filename: string) => string) => void' is not assignable to type '(req: any, file: File, cb: (error: Error | null, filename: string) => string) => string'.\r\n  Type 'void' is not assignable to type 'string'.\r\n\r\n\u001b[7m143\u001b[0m   filename: (req, file, cb) => {\r\n\u001b[7m   \u001b[0m \u001b[91m  ~~~~~~~~\u001b[0m\r\n\r\n  \u001b[96msrc/middlewares/fileUploadMiddleware/index.ts\u001b[0m:\u001b[93m47\u001b[0m:\u001b[93m3\u001b[0m\r\n    \u001b[7m47\u001b[0m   filename?: (\r\n    \u001b[7m  \u001b[0m \u001b[96m  ~~~~~~~~\u001b[0m\r\n    The expected type comes from property 'filename' which is declared here on type 'MulterFirebaseStorageOptions'\r\n","timestamp":"2024-09-16T01:10:02.026Z"}
{"level":"error","message":"Error connecting to Database","timestamp":"2024-09-16T10:33:24.001Z"}
{"level":"error","message":"Error adding route /v1/protected/upload: \n ⨯ Unable to compile TypeScript:\n\u001b[96msrc/middlewares/fileUploadMiddleware/index.ts\u001b[0m:\u001b[93m17\u001b[0m:\u001b[93m7\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2451: \u001b[0mCannot redeclare block-scoped variable 'storage'.\r\n\r\n\u001b[7m17\u001b[0m const storage = new Storage({\r\n\u001b[7m  \u001b[0m \u001b[91m      ~~~~~~~\u001b[0m\r\n\u001b[96msrc/middlewares/fileUploadMiddleware/index.ts\u001b[0m:\u001b[93m18\u001b[0m:\u001b[93m3\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2322: \u001b[0mType 'Credential' is not assignable to type 'JWTInput | ExternalAccountClientOptions | undefined'.\r\n\r\n\u001b[7m18\u001b[0m   credentials: firebaseCredentials, // Pass Firebase credentials to Google Cloud Storage\r\n\u001b[7m  \u001b[0m \u001b[91m  ~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middlewares/fileUploadMiddleware/index.ts\u001b[0m:\u001b[93m25\u001b[0m:\u001b[93m7\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2451: \u001b[0mCannot redeclare block-scoped variable 'storage'.\r\n\r\n\u001b[7m25\u001b[0m const storage = multerFirebaseStorage({\r\n\u001b[7m  \u001b[0m \u001b[91m      ~~~~~~~\u001b[0m\r\n\u001b[96msrc/middlewares/fileUploadMiddleware/index.ts\u001b[0m:\u001b[93m26\u001b[0m:\u001b[93m3\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2322: \u001b[0mType 'import(\"D:/personal_project/chat-app/Back-End/node_modules/@google-cloud/storage/build/cjs/src/bucket\").Bucket' is not assignable to type 'import(\"D:/personal_project/chat-app/Back-End/node_modules/multer-google-or-firebase-bucket/node_modules/@google-cloud/storage/build/src/bucket\").Bucket'.\r\n  Types of property 'storage' are incompatible.\r\n    Property 'getCredentials' is missing in type 'import(\"D:/personal_project/chat-app/Back-End/node_modules/@google-cloud/storage/build/cjs/src/storage\").Storage' but required in type 'import(\"D:/personal_project/chat-app/Back-End/node_modules/multer-google-or-firebase-bucket/node_modules/@google-cloud/storage/build/src/storage\").Storage'.\r\n\r\n\u001b[7m26\u001b[0m   bucket,\r\n\u001b[7m  \u001b[0m \u001b[91m  ~~~~~~\u001b[0m\r\n\r\n  \u001b[96mnode_modules/multer-google-or-firebase-bucket/node_modules/@google-cloud/storage/build/src/nodejs-common/service.d.ts\u001b[0m:\u001b[93m49\u001b[0m:\u001b[93m13\u001b[0m\r\n    \u001b[7m49\u001b[0m     private getCredentials;\r\n    \u001b[7m  \u001b[0m \u001b[96m            ~~~~~~~~~~~~~~\u001b[0m\r\n    'getCredentials' is declared here.\r\n  \u001b[96mnode_modules/multer-google-or-firebase-bucket/dist/index.d.ts\u001b[0m:\u001b[93m5\u001b[0m:\u001b[93m5\u001b[0m\r\n    \u001b[7m5\u001b[0m     bucket: Bucket;\r\n    \u001b[7m \u001b[0m \u001b[96m    ~~~~~~\u001b[0m\r\n    The expected type comes from property 'bucket' which is declared here on type 'MulterGoogleFirebaseBucketOptions'\r\n\u001b[96msrc/middlewares/fileUploadMiddleware/index.ts\u001b[0m:\u001b[93m36\u001b[0m:\u001b[93m3\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2739: \u001b[0mType 'Storage' is missing the following properties from type 'StorageEngine': _handleFile, _removeFile\r\n\r\n\u001b[7m36\u001b[0m   storage,\r\n\u001b[7m  \u001b[0m \u001b[91m  ~~~~~~~\u001b[0m\r\n\u001b[96msrc/middlewares/fileUploadMiddleware/index.ts\u001b[0m:\u001b[93m59\u001b[0m:\u001b[93m8\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2304: \u001b[0mCannot find name 'MulterRequest'.\r\n\r\n\u001b[7m59\u001b[0m   req: MulterRequest,\r\n\u001b[7m  \u001b[0m \u001b[91m       ~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middlewares/fileUploadMiddleware/index.ts\u001b[0m:\u001b[93m61\u001b[0m:\u001b[93m9\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2552: \u001b[0mCannot find name 'NextFunction'. Did you mean 'Function'?\r\n\r\n\u001b[7m61\u001b[0m   next: NextFunction,\r\n\u001b[7m  \u001b[0m \u001b[91m        ~~~~~~~~~~~~\u001b[0m\r\n\r\n  \u001b[96mnode_modules/typescript/lib/lib.es5.d.ts\u001b[0m:\u001b[93m319\u001b[0m:\u001b[93m13\u001b[0m\r\n    \u001b[7m319\u001b[0m declare var Function: FunctionConstructor;\r\n    \u001b[7m   \u001b[0m \u001b[96m            ~~~~~~~~\u001b[0m\r\n    'Function' is declared here.\r\n\u001b[96msrc/middlewares/fileUploadMiddleware/index.ts\u001b[0m:\u001b[93m65\u001b[0m:\u001b[93m11\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2349: \u001b[0mThis expression is not callable.\r\n  Type 'Number' has no call signatures.\r\n\r\n\u001b[7m65\u001b[0m       res.status(400).json({ error: 'No file uploaded' });\r\n\u001b[7m  \u001b[0m \u001b[91m          ~~~~~~\u001b[0m\r\n\u001b[96msrc/middlewares/fileUploadMiddleware/index.ts\u001b[0m:\u001b[93m77\u001b[0m:\u001b[93m35\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2304: \u001b[0mCannot find name 'PassThrough'.\r\n\r\n\u001b[7m77\u001b[0m     const passThroughStream = new PassThrough();\r\n\u001b[7m  \u001b[0m \u001b[91m                                  ~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middlewares/fileUploadMiddleware/index.ts\u001b[0m:\u001b[93m98\u001b[0m:\u001b[93m13\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2349: \u001b[0mThis expression is not callable.\r\n  Type 'Number' has no call signatures.\r\n\r\n\u001b[7m98\u001b[0m         res.status(200).json({\r\n\u001b[7m  \u001b[0m \u001b[91m            ~~~~~~\u001b[0m\r\n","timestamp":"2024-09-16T11:40:43.016Z"}
{"level":"error","message":"Error adding route /v1/protected/upload: \n ⨯ Unable to compile TypeScript:\n\u001b[96msrc/middlewares/fileUploadMiddleware/index.ts\u001b[0m:\u001b[93m20\u001b[0m:\u001b[93m7\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2451: \u001b[0mCannot redeclare block-scoped variable 'storage'.\r\n\r\n\u001b[7m20\u001b[0m const storage = new Storage({\r\n\u001b[7m  \u001b[0m \u001b[91m      ~~~~~~~\u001b[0m\r\n\u001b[96msrc/middlewares/fileUploadMiddleware/index.ts\u001b[0m:\u001b[93m21\u001b[0m:\u001b[93m3\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2322: \u001b[0mType 'Credential' is not assignable to type 'CredentialBody | ExternalAccountClientOptions | undefined'.\r\n\r\n\u001b[7m21\u001b[0m   credentials: firebaseCredentials, // Pass Firebase credentials to Google Cloud Storage\r\n\u001b[7m  \u001b[0m \u001b[91m  ~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middlewares/fileUploadMiddleware/index.ts\u001b[0m:\u001b[93m28\u001b[0m:\u001b[93m7\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2451: \u001b[0mCannot redeclare block-scoped variable 'storage'.\r\n\r\n\u001b[7m28\u001b[0m const storage = multerFirebaseStorage({\r\n\u001b[7m  \u001b[0m \u001b[91m      ~~~~~~~\u001b[0m\r\n\u001b[96msrc/middlewares/fileUploadMiddleware/index.ts\u001b[0m:\u001b[93m39\u001b[0m:\u001b[93m3\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2739: \u001b[0mType 'Storage' is missing the following properties from type 'StorageEngine': _handleFile, _removeFile\r\n\r\n\u001b[7m39\u001b[0m   storage,\r\n\u001b[7m  \u001b[0m \u001b[91m  ~~~~~~~\u001b[0m\r\n\u001b[96msrc/middlewares/fileUploadMiddleware/index.ts\u001b[0m:\u001b[93m62\u001b[0m:\u001b[93m8\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2304: \u001b[0mCannot find name 'MulterRequest'.\r\n\r\n\u001b[7m62\u001b[0m   req: MulterRequest,\r\n\u001b[7m  \u001b[0m \u001b[91m       ~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middlewares/fileUploadMiddleware/index.ts\u001b[0m:\u001b[93m64\u001b[0m:\u001b[93m9\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2552: \u001b[0mCannot find name 'NextFunction'. Did you mean 'Function'?\r\n\r\n\u001b[7m64\u001b[0m   next: NextFunction,\r\n\u001b[7m  \u001b[0m \u001b[91m        ~~~~~~~~~~~~\u001b[0m\r\n\r\n  \u001b[96mnode_modules/typescript/lib/lib.es5.d.ts\u001b[0m:\u001b[93m319\u001b[0m:\u001b[93m13\u001b[0m\r\n    \u001b[7m319\u001b[0m declare var Function: FunctionConstructor;\r\n    \u001b[7m   \u001b[0m \u001b[96m            ~~~~~~~~\u001b[0m\r\n    'Function' is declared here.\r\n\u001b[96msrc/middlewares/fileUploadMiddleware/index.ts\u001b[0m:\u001b[93m68\u001b[0m:\u001b[93m11\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2349: \u001b[0mThis expression is not callable.\r\n  Type 'Number' has no call signatures.\r\n\r\n\u001b[7m68\u001b[0m       res.status(400).json({ error: 'No file uploaded' });\r\n\u001b[7m  \u001b[0m \u001b[91m          ~~~~~~\u001b[0m\r\n\u001b[96msrc/middlewares/fileUploadMiddleware/index.ts\u001b[0m:\u001b[93m80\u001b[0m:\u001b[93m35\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2304: \u001b[0mCannot find name 'PassThrough'.\r\n\r\n\u001b[7m80\u001b[0m     const passThroughStream = new PassThrough();\r\n\u001b[7m  \u001b[0m \u001b[91m                                  ~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middlewares/fileUploadMiddleware/index.ts\u001b[0m:\u001b[93m101\u001b[0m:\u001b[93m13\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2349: \u001b[0mThis expression is not callable.\r\n  Type 'Number' has no call signatures.\r\n\r\n\u001b[7m101\u001b[0m         res.status(200).json({\r\n\u001b[7m   \u001b[0m \u001b[91m            ~~~~~~\u001b[0m\r\n","timestamp":"2024-09-16T11:41:07.278Z"}
{"level":"error","message":"Error adding route /v1/protected/upload: \n ⨯ Unable to compile TypeScript:\n\u001b[96msrc/middlewares/fileUploadMiddleware/index.ts\u001b[0m:\u001b[93m21\u001b[0m:\u001b[93m3\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2322: \u001b[0mType 'Credential' is not assignable to type 'CredentialBody | ExternalAccountClientOptions | undefined'.\r\n\r\n\u001b[7m21\u001b[0m   credentials: firebaseCredentials, // Pass Firebase credentials to Google Cloud Storage\r\n\u001b[7m  \u001b[0m \u001b[91m  ~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middlewares/fileUploadMiddleware/index.ts\u001b[0m:\u001b[93m39\u001b[0m:\u001b[93m3\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2353: \u001b[0mObject literal may only specify known properties, and 'storageEngin' does not exist in type 'Options'.\r\n\r\n\u001b[7m39\u001b[0m   storageEngin,\r\n\u001b[7m  \u001b[0m \u001b[91m  ~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middlewares/fileUploadMiddleware/index.ts\u001b[0m:\u001b[93m62\u001b[0m:\u001b[93m8\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2304: \u001b[0mCannot find name 'MulterRequest'.\r\n\r\n\u001b[7m62\u001b[0m   req: MulterRequest,\r\n\u001b[7m  \u001b[0m \u001b[91m       ~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middlewares/fileUploadMiddleware/index.ts\u001b[0m:\u001b[93m64\u001b[0m:\u001b[93m9\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2552: \u001b[0mCannot find name 'NextFunction'. Did you mean 'Function'?\r\n\r\n\u001b[7m64\u001b[0m   next: NextFunction,\r\n\u001b[7m  \u001b[0m \u001b[91m        ~~~~~~~~~~~~\u001b[0m\r\n\r\n  \u001b[96mnode_modules/typescript/lib/lib.es5.d.ts\u001b[0m:\u001b[93m319\u001b[0m:\u001b[93m13\u001b[0m\r\n    \u001b[7m319\u001b[0m declare var Function: FunctionConstructor;\r\n    \u001b[7m   \u001b[0m \u001b[96m            ~~~~~~~~\u001b[0m\r\n    'Function' is declared here.\r\n\u001b[96msrc/middlewares/fileUploadMiddleware/index.ts\u001b[0m:\u001b[93m68\u001b[0m:\u001b[93m11\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2349: \u001b[0mThis expression is not callable.\r\n  Type 'Number' has no call signatures.\r\n\r\n\u001b[7m68\u001b[0m       res.status(400).json({ error: 'No file uploaded' });\r\n\u001b[7m  \u001b[0m \u001b[91m          ~~~~~~\u001b[0m\r\n\u001b[96msrc/middlewares/fileUploadMiddleware/index.ts\u001b[0m:\u001b[93m80\u001b[0m:\u001b[93m35\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2304: \u001b[0mCannot find name 'PassThrough'.\r\n\r\n\u001b[7m80\u001b[0m     const passThroughStream = new PassThrough();\r\n\u001b[7m  \u001b[0m \u001b[91m                                  ~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middlewares/fileUploadMiddleware/index.ts\u001b[0m:\u001b[93m101\u001b[0m:\u001b[93m13\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2349: \u001b[0mThis expression is not callable.\r\n  Type 'Number' has no call signatures.\r\n\r\n\u001b[7m101\u001b[0m         res.status(200).json({\r\n\u001b[7m   \u001b[0m \u001b[91m            ~~~~~~\u001b[0m\r\n","timestamp":"2024-09-16T11:42:29.856Z"}
{"level":"error","message":"Error adding route /v1/protected/upload: \n ⨯ Unable to compile TypeScript:\n\u001b[96msrc/middlewares/fileUploadMiddleware/index.ts\u001b[0m:\u001b[93m21\u001b[0m:\u001b[93m3\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2322: \u001b[0mType 'Credential' is not assignable to type 'CredentialBody | ExternalAccountClientOptions | undefined'.\r\n\r\n\u001b[7m21\u001b[0m   credentials: firebaseCredentials, // Pass Firebase credentials to Google Cloud Storage\r\n\u001b[7m  \u001b[0m \u001b[91m  ~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middlewares/fileUploadMiddleware/index.ts\u001b[0m:\u001b[93m39\u001b[0m:\u001b[93m3\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2353: \u001b[0mObject literal may only specify known properties, and 'bucket' does not exist in type 'Options'.\r\n\r\n\u001b[7m39\u001b[0m   bucket: storageEngin,\r\n\u001b[7m  \u001b[0m \u001b[91m  ~~~~~~\u001b[0m\r\n","timestamp":"2024-09-16T11:43:43.117Z"}
{"level":"error","message":"Error adding route /v1/protected/upload: \n ⨯ Unable to compile TypeScript:\n\u001b[96msrc/middlewares/fileUploadMiddleware/index.ts\u001b[0m:\u001b[93m6\u001b[0m:\u001b[93m15\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2304: \u001b[0mCannot find name 'Bucket'.\r\n\r\n\u001b[7m6\u001b[0m const bucket: Bucket = storage.bucket(\r\n\u001b[7m \u001b[0m \u001b[91m              ~~~~~~\u001b[0m\r\n\u001b[96msrc/middlewares/fileUploadMiddleware/index.ts\u001b[0m:\u001b[93m6\u001b[0m:\u001b[93m24\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2552: \u001b[0mCannot find name 'storage'. Did you mean 'Storage'?\r\n\r\n\u001b[7m6\u001b[0m const bucket: Bucket = storage.bucket(\r\n\u001b[7m \u001b[0m \u001b[91m                       ~~~~~~~\u001b[0m\r\n\r\n  \u001b[96mnode_modules/typescript/lib/lib.dom.d.ts\u001b[0m:\u001b[93m21964\u001b[0m:\u001b[93m13\u001b[0m\r\n    \u001b[7m21964\u001b[0m declare var Storage: {\r\n    \u001b[7m     \u001b[0m \u001b[96m            ~~~~~~~\u001b[0m\r\n    'Storage' is declared here.\r\n\u001b[96msrc/middlewares/fileUploadMiddleware/index.ts\u001b[0m:\u001b[93m20\u001b[0m:\u001b[93m3\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2353: \u001b[0mObject literal may only specify known properties, and 'bucket' does not exist in type 'Options'.\r\n\r\n\u001b[7m20\u001b[0m   bucket: storageEngin,\r\n\u001b[7m  \u001b[0m \u001b[91m  ~~~~~~\u001b[0m\r\n","timestamp":"2024-09-16T15:25:41.067Z"}
